(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(n,t,e){},39:function(n,t,e){"use strict";e.r(t);var o=e(14),c=e.n(o),u=e(4),i=e(2),a=e(3),r=e.n(a),l="/api/persons",s=function(){var n=r.a.get(l);return console.log(n.then((function(n){return n.data}))),n.then((function(n){return n.data}))},d=function(n){return console.log("alku toimii"),console.log("".concat(l,"/").concat(n.name,"/").concat(n.number)),r.a.post("".concat(l,"/").concat(n.name,"/").concat(n.number)).then((function(n){return n.data}))},f=function(n){console.log("".concat(l,"/").concat(n));var t=r.a.delete("".concat(l,"/").concat(n));return console.log(t.then((function(n){return n.data}))),t.then((function(n){return n.data}))},b=function(n){return r.a.put("".concat(l,"/").concat(n.id),n).then((function(n){return n.data}))},j=e(0),h=function(n){var t=n.text;return null===t?null:Object(j.jsx)("div",{className:"message",children:Object(j.jsx)("p",{children:t})})},m=function(){var n=Object(i.useState)([]),t=Object(u.a)(n,2),e=t[0],o=t[1],c=Object(i.useState)(""),a=Object(u.a)(c,2),r=a[0],l=a[1],m=Object(i.useState)(""),O=Object(u.a)(m,2),g=O[0],p=O[1],v=Object(i.useState)(null),x=Object(u.a)(v,2),w=x[0],y=x[1];Object(i.useEffect)((function(){console.log("toimi ennen axiosta"),s().then((function(n){o(n),console.log("lis\xe4ys toimi")}))}),[]);var k=function(n){b(n).then((function(){s().then((function(n){o(n),console.log("muutos onnistui"),y("muutos onnistui"),setTimeout((function(){y(null)}),5e3)}))}))};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Phonebook"}),Object(j.jsx)(h,{text:w}),Object(j.jsx)("form",{onSubmit:function(n){if(n.preventDefault(),e.find((function(n){return n.name===r}))){var t=e.find((function(n){return n.name===r})).id;if(window.confirm("".concat(r," is already added to phonebook, do you want to change the number?")))k({name:r,number:g,id:t})}else{d({name:r,number:g}).then((function(n){o(e.concat(n)),l(""),p(""),y("lis\xe4ys onnistui"),setTimeout((function(){y(null)}),5e3)}))}},children:Object(j.jsxs)("div",{children:["name: ",Object(j.jsx)("input",{value:r,onChange:function(n){console.log(n.target.value),l(n.target.value)}}),"number: ",Object(j.jsx)("input",{value:g,onChange:function(n){console.log(n.target.value),p(n.target.value)}}),Object(j.jsx)("button",{type:"submit",children:"add"})]})}),Object(j.jsx)("h2",{children:"Numbers"}),Object(j.jsx)("ul",{children:e.map((function(n){return Object(j.jsxs)("li",{children:[n.name,"  ",n.number," ",Object(j.jsx)("button",{onClick:function(){return t=n.id,void(window.confirm("do you want to delete a person from your phonebook?")&&(console.log(t),f(t).then((function(){s().then((function(n){o(n),console.log("poisto toimi"),y("poisto onnistui"),setTimeout((function(){y(null)}),5e3)}))}))));var t},children:"delete"}),"  "]},n.id)}))})]})};e(38);c.a.render(Object(j.jsx)(m,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.e0df9f2f.chunk.js.map