{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","request","axios","get","console","log","then","response","data","newObject","name","number","post","id","delete","put","Message","text","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","message","setNewMessage","useEffect","personService","initialPersons","modifyPerson","personObject","setTimeout","onSubmit","event","preventDefault","find","person","window","confirm","returnedPerson","concat","value","onChange","target","type","map","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3ab6acc5.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'https://jaakonmoocnodetesti1.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  \r\n  const request = axios.get(baseUrl)\r\n  console.log(request.then(response => response.data))\r\n  return request.then(response => response.data )\r\n}\r\n\r\nconst create = newObject => {\r\n  console.log('alku toimii')\r\n  console.log(`${baseUrl}/${newObject.name}/${newObject.number}`)\r\n  const request = axios.post(`${baseUrl}/${newObject.name}/${newObject.number}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id =>  {\r\n  console.log(`${baseUrl}/${id}`)\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  console.log(request.then(response => response.data))\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst modify = newObject => {\r\n  const request = axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, deletePerson, modify}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ message, setNewMessage ] = useState(null)\n\n\n  useEffect(() => {    \n  console.log('toimi ennen axiosta')    \n    personService\n      .getAll()\n      \n      .then(initialPersons =>{\n        setPersons(initialPersons)\n        console.log('lisäys toimi')\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)){\n      const id = persons.find(person => person.name === newName).id\n      if (window.confirm(`${newName} is already added to phonebook, do you want to change the number?`)) {\n\n      const personObject = {\n        name : newName,\n        number : newNumber,\n        id: id\n        }\n\n      modifyPerson(personObject)\n    }\n    } else {\n\n    const personObject = {\n    name : newName,\n    number : newNumber\n    }\n \n    personService\n      .create(personObject)\n        .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNewMessage('lisäys onnistui')\n        setTimeout(() => {\n          setNewMessage(null)      \n        }, 5000)\n        })\n  }}\n\n  const deletePerson = (id) => {\n    \n    if(window.confirm(`do you want to delete a person from your phonebook?`)){\n      \n      console.log(id)\n    personService\n      .deletePerson(id)\n      .then(() => {\n        personService\n        .getAll()\n        .then(initialPersons =>{\n        setPersons(initialPersons)\n        console.log('poisto toimi')\n        setNewMessage('poisto onnistui')\n        setTimeout(() => {\n          setNewMessage(null)      \n        }, 5000)\n      })\n  })\n}\n\n}\n\n  const modifyPerson = personObject => {\n    personService\n    .modify(personObject)\n    .then(() => {\n      personService\n      .getAll()\n      .then(initialPersons =>{\n      setPersons(initialPersons)\n      console.log('muutos onnistui')\n      setNewMessage('muutos onnistui')\n      setTimeout(() => {\n        setNewMessage(null)      \n      }, 5000)\n      }\n\n  \n      )}\n    )}\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n\n \n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Message text={message}/>\n      <form onSubmit={addPerson}>\n        <div >\n\n          name: <input value={newName}\n            onChange={handleNameChange}/>\n          number: <input value={newNumber}\n            onChange={handleNumberChange}/>\n\n             <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      \n      <ul>\n      {persons.map(person =>\n      \n      <li key={person.id}>{person.name}  {person.number} <button onClick={() => deletePerson(person.id)}>delete</button>  </li>   \n      \n      )} \n      </ul>\n      \n\n    </div>\n  )\n\n}\n\nconst Message = ({text}) => {\n  if (text === null) {\n    return null\n  } else {\n\n\n  return (\n    <div className='message' >\n      <p>{text}</p>\n    </div>\n  )\n\n  }\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}